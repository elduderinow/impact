{"ast":null,"code":"import _asyncToGenerator from \"/Users/yarrutfranken/PhpstormProjects/21_impact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Asteroid } from \"./models/asteroid\";\nimport * as i0 from \"@angular/core\";\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.dateObj = new Date();\n      this.month = this.dateObj.getUTCMonth() + 1; //months from 1-12\n\n      this.day = this.dateObj.getUTCDate();\n      this.year = this.dateObj.getUTCFullYear();\n      this.newdate = this.year + \"-\" + this.month + \"-\" + this.day;\n      this.url = `https://api.nasa.gov/neo/rest/v1/feed?start_date=${this.newdate}&api_key=XmohfzUl7TDAmHjfPki0ZXJAwYp4VyaKqvfpWdFm`;\n      this.title = 'impact';\n      this.tempAsteroids = [];\n      this.allAsteroids = [];\n    }\n\n    getAsteroids(url) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const data = yield fetch(url);\n        const result = yield data.json();\n        let values = Object.entries(result.near_earth_objects);\n        values.forEach(elem => _this.tempAsteroids.push(...elem[1]));\n\n        _this.tempAsteroids.forEach(elem => {\n          let asteroid = new Asteroid(elem.name, elem.absolute_magnitude_h, elem.estimated_diameter.kilometers, elem.close_approach_data[0].epoch_date_close_approach, elem.close_approach_data[0].relative_velocity.kilometers_per_hour, elem.id, elem.is_potentially_hazardous_asteroid, elem.is_sentry_object, elem.close_approach_data[0].miss_distance.kilometers);\n\n          _this.allAsteroids.push(asteroid);\n\n          return _this.allAsteroids;\n        });\n      })();\n    }\n\n    ngOnInit() {\n      this.getAsteroids(this.url);\n      console.log(this.url);\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)();\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 5,\n    vars: 1,\n    consts: [[1, \"grid\", \"grid-cols-12\", \"w-full\", \"bg-gray-100\"], [1, \"col-span-12\", \"md:col-span-3\"], [3, \"redirect\"], [1, \"col-span-12\", \"md:col-span-9\"], [3, \"data\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"app-asteroids\", 2);\n        i0.ɵɵlistener(\"redirect\", function AppComponent_Template_app_asteroids_redirect_2_listener($event) {\n          return ctx.parentData = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelement(4, \"app-viewport\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"data\", ctx.parentData);\n      }\n    },\n    styles: [\"\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}